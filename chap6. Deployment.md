# 6. 배포
마이크로서비스를 세분화된 아키텍처에 배포할 때 도움이 될 수 있는 기법과 기술을 살펴보자.

## 6.1 지속적 통합이란
> continuous integration의 핵심 목표 : 모든 사람이 서로 동기를 맞추는 것

- 코드의 커밋 감지 -> 체크아웃 -> 코드의 컴퐈일/테스트 통과 확인
- CI 장점
  1. 코드 품질에 대해 빠른 피드백을 얻을 수 있다.
  2. 바이너리 산출물을 자동으로 생성할 수 있다.
  3. 버전관리된 코드와 산출물에 대해 어떤 테스트가 수행되었는지 확인할 수 있다.
- CI 도구의 사용과 CI의 실천을 혼동하지 말자.
- Jez Humble의 3가지 질문
  1. 하루에 한번 메인 브랜치에 체크인하는가?
  2. 변경을 확인할 테스트 집합이 있는가?
  3. 빌드가 깨졌을때 팀이 그것을 최우선으로 해결하는가?

## 6.2 지속적 통합을 마이크로서비스로 매핑하기
- CI빌드를 어떻게 개별 마이크로서비스와 매핑할것인지 생각해보자.
1. 가장 단순한 방법 : 모놀리식 빌드
  - 단점 : 어떤 변경에도 빌드가 시작한다. (cycle time에 영향을 준다.)
2. 변형 : 단일 소스 트리를 두고 다수의 CI빌드가 소스 트리의 부분들과 매핑되게 하는 것
  - 장점 : 체크인/체크아웃 과정이 더 단순해진다
  - 단점 : 한번에 여러 서비스의 소스 코드에 체크인하는 습관이 들기 쉽다.
3. BEST : 마이크로서비스당 하나의 CI빌드 두기
  - 변경이 발생하면 필요한 빌드와 테스트만 수행, 배포할 하나의 산출물만 얻는다.

## 6.3 빌드 파이프라인과 지속적 배포
## 6.4 플랫폼별 산출물
## 6.5 운영 체제 산출물
## 6.6 커스텀 이미지
## 6.7 환경
## 6.8 서비스 환경 구성
## 6.9 서비스와 호스트 매핑
## 6.10 자동화
## 6.11 물리 머신에서 가상화로
## 6.12 배포 인터페이스
## 6.13 마치며
